# 代理模式

代理模式有多种形式，例如静态代理、动态代理（JDK动态代理、CGLIB动态代理）。这里我将展示静态代理和JDK动态代理。

场景：我们有一个接口Image，表示图片查看器，有一个方法display()。真实对象是RealImage，我们使用代理来控制对真实对象的访问（例如延迟加载、权限控制等）。

静态代理

动态代理


代理模式总结
代理类型对比：

类型	优点	缺点	适用场景
静态代理	简单直观，性能好	接口变更时代码需要修改	简单代理需求
JDK动态代理	无需手动编写代理类	只能代理接口	Spring AOP、RPC框架
CGLIB代理	可以代理类，性能较好	不能代理final方法	需要代理普通类的场景
常见应用场景：

虚拟代理：延迟加载（如图片、大文件）

保护代理：权限控制

远程代理：RPC调用

缓存代理：结果缓存

智能引用：对象生命周期管理

核心思想：

控制对象访问

增强功能而不修改原对象

实现开闭原则

代理模式在Spring AOP、MyBatis、RPC框架等众多Java框架中都有广泛应用。