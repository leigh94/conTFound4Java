# 模版方法模式
模板方法模式在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。

场景：我们模拟一个饮料制作过程。饮料制作通常有固定的步骤，比如煮沸水、冲泡、倒入杯子、添加调料。但是不同的饮料在这些步骤上可能有些差异。例如，茶和咖啡的冲泡方法和添加的调料不同。

步骤：

定义抽象基类，它包含一个模板方法（准备饮料的步骤）和一些抽象方法（由子类实现）。

创建具体子类，实现抽象方法。


模板方法模式在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。


模板方法模式总结
核心组件：

AbstractClass（抽象类）：定义模板方法和基本方法

ConcreteClass（具体类）：实现父类定义的抽象方法

优点：

封装不变部分，扩展可变部分

提取公共代码，便于维护

行为由父类控制，子类实现

符合开闭原则

缺点：

每一个不同的实现都需要一个子类，导致类的个数增加

父类添加新的抽象方法，所有子类都要改

适用场景：

一次性实现算法的不变部分，将可变的行为留给子类来实现

各子类中公共的行为应被提取出来并集中到一个公共父类中

控制子类扩展，模板方法只在特定点调用钩子操作

实现要点：

模板方法应该声明为final，避免子类重写

基本方法尽量设计为protected，符合迪米特法则

钩子方法提供默认实现，子类可以重写

模式变体：

简单模板方法：只有少数几个步骤

复杂模板方法：包含条件判断和循环

带钩子的模板方法：提供更多扩展点

工厂模板方法：结合工厂模式

模板方法模式通过定义算法的骨架而将一些步骤延迟到子类中，使得子类可以不改变算法的结构即可重定义该算法的某些特定步骤。这种模式在很多框架和库中都有广泛应用。

