# 观察者模式

我们使用观察者模式来实现一个简单的例子：一个气象站，当气象数据更新时，自动通知多个布告板（显示当前状况、统计信息、天气预报等）。

观察者模式包含两个主要角色：

主题（Subject）：维护一个观察者列表，提供注册、删除和通知观察者的方法。

观察者（Observer）：定义一个更新接口，当主题状态改变时被调用。

在这个例子中，我们让气象站作为主题，布告板作为观察者。

步骤：

定义观察者接口（Observer），包含一个更新方法（update）。

定义主题接口（Subject），包含注册观察者（registerObserver）、删除观察者（removeObserver）和通知观察者（notifyObservers）的方法。

创建具体主题（WeatherStation），实现主题接口，并维护气象数据（温度、湿度、气压）和观察者列表。

创建具体观察者（CurrentConditionsDisplay、StatisticsDisplay等），实现观察者接口，并在更新方法中根据气象数据更新显示。

我们还可以定义一个显示接口（DisplayElement），包含一个显示方法（display），让布告板实现这个接口。

模式优势
松耦合：主题和观察者之间松耦合，可以独立改变

可扩展性：可以轻松添加新的观察者

广播通信：支持一对多的通信方式

符合开闭原则：新增观察者无需修改主题代码

观察者模式广泛应用于事件处理系统、消息队列、MVC架构等场景。