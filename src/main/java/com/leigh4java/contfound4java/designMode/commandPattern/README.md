# 命令模式

命令模式将请求封装成对象，从而允许使用不同的请求、队列或日志来参数化其他对象，同时支持可撤销的操作。

场景：我们模拟一个遥控器，它有一些按钮，每个按钮可以被设置成控制不同的设备（如灯、风扇等）。我们还可以支持撤销操作。

步骤：

定义命令接口，通常包含执行方法和撤销方法。

创建具体命令类，实现命令接口，它通常包含一个接收者（设备）的引用，并在执行方法中调用接收者的操作。

创建接收者类，即实际执行操作的对象，如灯、风扇等。

创建调用者类，即遥控器，它持有命令对象，并可以调用命令的执行和撤销。

命令模式将请求封装成对象，从而允许使用不同的请求、队列或日志来参数化其他对象，同时支持可撤销的操作。


命令模式总结
核心组件：

Command（命令接口）：声明执行操作的接口

ConcreteCommand（具体命令）：实现命令接口，绑定接收者和动作

Receiver（接收者）：知道如何执行操作

Invoker（调用者）：要求命令执行请求

Client（客户端）：创建具体命令并设置接收者

优点：

解耦调用者和接收者

支持撤销/重做操作

支持命令队列和日志

容易扩展新命令

可以实现宏命令

缺点：

可能产生大量的具体命令类

增加了系统的复杂性

适用场景：

需要回调机制的场景

需要支持撤销/重做操作

需要将操作记录到日志

需要支持事务操作

需要实现宏命令

实际应用：

GUI按钮和菜单项

事务系统

进度条操作

线程池任务

网络请求队列